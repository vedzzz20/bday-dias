<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy 15th, Dias!</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Emilys+Candy&display=swap');

body, html {
  margin:0; padding:0; overflow:hidden;
  background:#1A1A1A;
  font-family:'Emilys Candy', cursive;
}

/* CANVAS BG */
#canvas {
  position:absolute; top:0; left:0; z-index:0;
}

/* BOOK */
#bookContainer {
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%, -50%);
  perspective:2000px;
  z-index:10;
}

#book {
  width:420px; height:550px;
  transform-style:preserve-3d;
  position:relative;
  cursor:pointer;
}

/* Covers & Pages */
.bookCover, .page {
  width:100%; height:100%;
  position:absolute;
  backface-visibility:hidden;
  border-radius:20px;
  display:flex; justify-content:center; align-items:center;
  flex-direction:column;
  text-align:center; color:white;
  box-shadow:0 10px 40px rgba(0,0,0,0.3);
}

/* Front Cover */
.bookCover {
  background:#ffffff15;
  transform-origin:left;
  transition:transform 1.5s ease;
  font-size:80px;
}

.bookCover .bow {
  font-size:70px;
  margin-top:-40px;
}

#backCover {
  transform:rotateY(-180deg);
  background:#ffffff10;
}

/* Pages */
.page {
  background:#ffffff08;
  transform-origin:left;
  transition:transform 1s ease;
  padding:20px;
  font-size:45px;
  box-shadow:inset 0 0 40px rgba(0,0,0,0.3);
  transform:rotateY(-180deg);
}

.page h2 {
  font-size:70px;
  color:#FFD7ED;
  margin:10px 0;
}

.page p {
  margin:5px 0;
  font-size:40px;
}

.page.glow {
  box-shadow:0 0 25px #FFD7ED, 0 0 40px #FFB8FF;
}

/* Bookmark Ribbon */
#bookmark {
  position:absolute; top:20px; right:10px;
  width:30px; height:100px;
  background:#FF69B4;
  clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);
  z-index:20;
  display:flex; justify-content:center; font-size:25px;
}

/* Page Turn Button */
#nextBtn {
  position:absolute; bottom:20px; right:20px;
  font-size:50px; color:white;
  cursor:pointer; user-select:none;
  z-index:30;
}

/* Sound Toggle */
#soundToggle {
  position:absolute; top:20px; left:20px;
  color:white; font-size:40px;
  cursor:pointer;
  z-index:30;
}

/* Floating Hearts */
.heart {
  position:absolute;
  color:#FF8ECF;
  font-size:30px;
  animation:floatUp 2.5s ease-out forwards;
  pointer-events:none;
}

@keyframes floatUp {
  0% { transform:translateY(0) scale(1); opacity:1; }
  100% { transform:translateY(-150px) scale(1.6); opacity:0; }
}

</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- BOOK -->
<div id="bookContainer">
  <div id="book">
    <div class="bookCover" id="frontCover">ü§ç<div class="bow">üéÄ</div></div>
    <div class="bookCover" id="backCover"></div>

    <div class="page" id="page1"><h2>DIAS</h2><p>The one and ONLY...</p></div>
    <div class="page" id="page2"><h2>F1</h2><p>Speed, style, chaos‚Ä¶ that‚Äôs you!</p></div>
    <div class="page" id="page3"><h2>Music & Dance üé∂üíÉ</h2><p>Your energy could power an F1 team!</p></div>
    <div class="page" id="page4"><h2>Food üç∞üçú</h2><p>Chef Dias: Certified foodie, part-time chaos engine.</p></div>
    <div class="page" id="page5"><h2>Books & Poetry üìñ</h2><p style="font-style:italic;">‚ÄúDias, your smile shines brighter than rain on leaves,<br>Every laugh of yours, the heart believes.‚Äù</p></div>
    <div class="page" id="page6"><h2>From Pookie üíñ</h2><p>You make the world feel cozy and fun just by being you.</p></div>
  </div>

  <div id="bookmark">üéÄ</div>
  <div id="nextBtn">>>></div>
  <div id="soundToggle">üîä</div>
</div>

<script>
/* === BACKGROUND CANVAS === */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let rainDrops = [];
let bows = [];

for(let i=0;i<150;i++){
  rainDrops.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, l:10+Math.random()*20, s:2+Math.random()*3});
}

function drawRain(){
  ctx.strokeStyle="#A9C6FF";
  ctx.lineWidth=2;
  rainDrops.forEach(r=>{
    ctx.beginPath();
    ctx.moveTo(r.x,r.y);
    ctx.lineTo(r.x,r.y+r.l);
    ctx.stroke();
    r.y+=r.s;
    if(r.y>canvas.height) r.y=-r.l;
  });
}

/* Bow floaters */
class Bow {
  constructor(){
    this.x=Math.random()*canvas.width;
    this.y=Math.random()*canvas.height;
    this.size=20+Math.random()*20;
    this.a=Math.random()*Math.PI*2;
    this.s=0.02+Math.random()*0.03;
  }
  draw(){
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.a);
    ctx.fillStyle="#FFD7ED";
    ctx.beginPath();
    ctx.moveTo(0,-this.size/2);
    ctx.lineTo(-this.size/2,0);
    ctx.lineTo(0,this.size/2);
    ctx.lineTo(this.size/2,0);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }
  update(){ this.a+=this.s; this.draw(); }
}
for(let i=0;i<12;i++) bows.push(new Bow());

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawRain();
  bows.forEach(b=>b.update());
  requestAnimationFrame(animate);
}
animate();

/* === BOOK LOGIC === */
const book=document.getElementById("book");
const pages=document.querySelectorAll(".page");
const frontCover=document.getElementById("frontCover");

let opened=false;
let currentPage=0;
let soundOn=true;

/* Sounds */
const sounds={
  open:new Audio('https://freesound.org/data/previews/522/522498_1166496-lq.mp3'),
  flip:new Audio('https://freesound.org/data/previews/331/331912_3248244-lq.mp3'),
  sparkle:new Audio('https://freesound.org/data/previews/146/146725_2614175-lq.mp3')
};
for(let s in sounds) sounds[s].volume=0.25;

/* Open cover ONCE */
book.addEventListener("click",()=>{
  if(!opened){
    frontCover.style.transform="rotateY(-160deg)";
    if(soundOn) sounds.open.play();

    pages[currentPage].style.transform="rotateY(0deg)";
    pages[currentPage].classList.add("glow");

    opened=true;
  }
});

/* Hearts spawn */
function spawnHearts(){
  for(let i=0;i<4;i++){
    let h=document.createElement("div");
    h.className="heart";
    h.textContent="üíñ";

    let bx=book.getBoundingClientRect();
    h.style.left=(bx.left+200)+"px";
    h.style.top=(bx.top+300)+"px";

    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2500);
  }
}

/* Page flipping (NO COVER RESET) */
function flipPage(){
  if(!opened) return;

  pages[currentPage].classList.remove("glow");
  pages[currentPage].style.transform="rotateY(-160deg)";
  if(soundOn) sounds.flip.play();
  spawnHearts();

  currentPage=(currentPage+1)%pages.length;

  pages[currentPage].style.transform="rotateY(0deg)";
  pages[currentPage].classList.add("glow");
  if(soundOn) sounds.sparkle.play();
}

/* Next button */
document.getElementById("nextBtn").addEventListener("click", flipPage);

/* Sound toggle */
document.getElementById("soundToggle").addEventListener("click",()=>{
  soundOn=!soundOn;
  soundToggle.textContent=soundOn?"üîä":"üîá";
});
</script>

</body>
</html>
