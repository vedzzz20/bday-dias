<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy 15th, Dias!</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Emilys+Candy&display=swap');

body, html { margin:0; padding:0; overflow:hidden; font-family:'Emilys Candy', cursive; background:#1A1A1A; }
#canvas { position:absolute; top:0; left:0; z-index:0; }

/* 3D BOOK */
#bookContainer {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  perspective:2000px; z-index:10;
}
#book { width:420px; height:550px; transform-style:preserve-3d; position:relative; cursor:pointer; }
.bookCover, .page {
  width:100%; height:100%; position:absolute; backface-visibility:hidden;
  border-radius:20px; display:flex; justify-content:center; align-items:center;
  flex-direction:column; text-align:center; color:white; box-shadow:0 10px 40px rgba(0,0,0,0.3);
  font-family:'Emilys Candy', cursive;
}
.bookCover { background:#ffffff15; font-size:80px; transform-origin:left; transition:transform 1.5s ease; }
.bookCover h1 { margin:0; font-size:100px; }
.bookCover .bow { font-size:70px; margin-top:-40px; }
#backCover { transform:rotateY(-180deg); background:#ffffff10; }

.page { background:#ffffff08; font-size:45px; transform-origin:left; transition:transform 0.8s ease; padding:20px; box-shadow:inset 0 0 40px rgba(0,0,0,0.3); }
.page h2 { font-size:70px; color:#FFD7ED; margin:10px 0; }
.page p { font-size:40px; margin:5px 0; }
.page.glow { box-shadow:0 0 30px #FFD7ED, 0 0 50px #FFB8FF; transition: all 0.8s ease; }

/* Bookmark */
#bookmark { position:absolute; top:20px; right:10px; width:30px; height:100px; background:#FF69B4; clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%); z-index:15; display:flex; justify-content:center; align-items:flex-start; font-size:30px; }
#bookmark .bow { margin-top:5px; font-size:25px; }

/* Buttons */
#nextBtn { position:absolute; bottom:20px; right:20px; z-index:20; font-size:50px; cursor:pointer; color:white; user-select:none; }
#soundToggle { position:absolute; top:20px; left:20px; z-index:20; font-size:40px; cursor:pointer; color:white; }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- 3D Book -->
<div id="bookContainer">
  <div id="book">
    <div class="bookCover" id="frontCover">ü§ç<div class="bow">üéÄ</div></div>
    <div class="bookCover" id="backCover"></div>
    <div class="page" id="page1"><h2>DIAS</h2><p>The one and ONLY...</p></div>
    <div class="page" id="page2"><h2>F1</h2><p>Speed, style, chaos‚Ä¶ that‚Äôs you!</p></div>
    <div class="page" id="page3"><h2>Music & Dance üé∂üíÉ</h2><p>Your energy could power an F1 team!</p></div>
    <div class="page" id="page4"><h2>Food üç∞üçú</h2><p>Chef Dias: Certified foodie, part-time chaos engine.</p></div>
    <div class="page" id="page5"><h2>Books & Poetry üìñ</h2><p style="font-style:italic;">‚ÄúDias, your smile shines brighter than rain on leaves,<br>Every laugh of yours, the heart believes.‚Äù</p></div>
    <div class="page" id="page6"><h2>From Dias üíñ</h2><p>Happy 15th Birthday, Dias! You make the world feel cozy and fun just by being you.</p></div>
  </div>
  <div id="bookmark">üéÄ</div>
  <div id="nextBtn">>>></div>
  <div id="soundToggle">üîä</div>
</div>

<script>
/* --- CANVAS BG --- */
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;

// Rain
let rainDrops = [];
for(let i=0;i<150;i++) rainDrops.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,l:10+Math.random()*20,s:2+Math.random()*3});
function drawRain(){ ctx.strokeStyle='#A9C6FF'; ctx.lineWidth=2; rainDrops.forEach(r=>{ctx.beginPath();ctx.moveTo(r.x,r.y);ctx.lineTo(r.x,r.y+r.l);ctx.stroke(); r.y+=r.s; if(r.y>canvas.height) r.y=-r.l; }); }

// Bows
class Bow { constructor(){ this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height; this.size=20+Math.random()*20; this.a=Math.random()*Math.PI*2; this.s=0.02+Math.random()*0.03; }
draw(){ ctx.save();ctx.translate(this.x,this.y);ctx.rotate(this.a);ctx.fillStyle='#FFD7ED';ctx.beginPath();ctx.moveTo(0,-this.size/2);ctx.lineTo(-this.size/2,0);ctx.lineTo(0,this.size/2);ctx.lineTo(this.size/2,0);ctx.closePath();ctx.fill();ctx.restore();}
update(){this.a+=this.s; this.draw(); } }
let bows=[]; for(let i=0;i<12;i++) bows.push(new Bow());

// Hearts from book
function spawnHearts(){
  for(let i=0;i<10;i++){
    const h = {x:canvas.width/2 + (Math.random()-0.5)*200, y:canvas.height/2 + (Math.random()-0.5)*200, size:15+Math.random()*20, vy:1+Math.random()*2, alpha:0.8};
    hearts.push(h);
  }
}
let hearts=[];
function drawHearts(){
  hearts.forEach((h,i)=>{
    ctx.font = h.size+'px serif';
    ctx.globalAlpha = h.alpha;
    ctx.fillText('ü§ç', h.x, h.y);
    h.y -= h.vy;
    h.alpha -= 0.005;
    if(h.alpha<=0) hearts.splice(i,1);
  });
}

// Animate canvas
function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawRain();
  bows.forEach(b=>b.update());
  drawHearts();
  requestAnimationFrame(animate);
}
animate();

/* --- 3D BOOK LOGIC --- */
const book = document.getElementById('book');
const pages = document.querySelectorAll('.page');
const frontCover = document.getElementById('frontCover');
let currentPage=0, opened=false, soundOn=true;

const sounds = {
  open: new Audio('https://freesound.org/data/previews/522/522498_1166496-lq.mp3'),
  flip: new Audio('https://freesound.org/data/previews/331/331912_3248244-lq.mp3'),
  sparkle: new Audio('https://freesound.org/data/previews/146/146725_2614175-lq.mp3'),
  ribbon: new Audio('https://freesound.org/data/previews/345/345678_2437356-lq.mp3')
};
for(let s in sounds) sounds[s].volume=0.2;

/* --- OPEN COVER --- */
book.addEventListener('click',()=> {
  if(!opened){
    frontCover.style.transform='rotateY(-160deg)';
    if(soundOn) sounds.open.play();
    setTimeout(()=>{ pages[currentPage].classList.add('glow'); spawnHearts(); },1500);
    opened=true;
  }
});

/* --- NEXT BUTTON --- */
document.getElementById('nextBtn').addEventListener('click',()=> flipPage());

function flipPage(){
  pages[currentPage].classList.remove('glow');
  pages[currentPage].style.transform='rotateY(-160deg)';
  if(soundOn) sounds.flip.play();
  spawnHearts();
  currentPage = (currentPage+1)%pages.length;
  pages[currentPage].style.transform='rotateY(0deg)';
  pages[currentPage].classList.add('glow');
  if(soundOn) sounds.sparkle.play();
  if(currentPage===0){ frontCover.style.transform='rotateY(0deg)'; if(soundOn)sounds.ribbon.play();}
}

/* --- SOUND TOGGLE --- */
document.getElementById('soundToggle').addEventListener('click',()=>{ soundOn=!soundOn; document.getElementById('soundToggle').textContent=soundOn?'üîä':'üîá'; });

</script>
</body>
</html>
