<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Book Fix</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Emilys+Candy&display=swap');

body, html {
  margin: 0;
  padding: 0;
  overflow: hidden;
  font-family: 'Emilys Candy', cursive;
  background: #1A1A1A;
}

/* Rain Canvas BEHIND book */
#canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
}

/* BOOK CONTAINER (ON TOP) */
#bookContainer {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  perspective: 2000px;
  z-index: 10;
}

/* BUTTON */
#flipBtn {
  position: absolute;
  bottom: 40px;
  right: 40px;
  z-index: 20;
  background: #ff7cd8;
  color: white;
  border: none;
  padding: 15px 22px;
  font-size: 28px;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 0 10px #ff7cd8aa;
}
#flipBtn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 20px #ff7cd8ff;
}

/* BOOK */
#book {
  width: 420px;
  height: 550px;
  transform-style: preserve-3d;
  position: relative;
  cursor: pointer;
}

/* HARD COVER */
.bookCover {
  width: 100%;
  height: 100%;
  position: absolute;
  backface-visibility: hidden;
  background: #ffffff15;
  border-radius: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  font-size: 80px;
  color: white;
  transform-origin: left;
  box-shadow: 0 10px 40px rgba(255,255,255,0.1);
}

#frontCover {
  z-index: 30;
}
#backCover {
  transform: rotateY(-180deg);
  background: #ffffff10;
}

/* PAGES ‚Äî STACKED */
.page {
  position: absolute;
  width: 100%;
  height: 100%;
  background: #ffffff10;
  border-radius: 20px;
  backface-visibility: hidden;
  transform-origin: left;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 20px;
  color: white;
  font-size: 40px;
  text-align: center;
  box-shadow: inset 0 0 30px rgba(0,0,0,0.4);
  transition: transform 1.2s ease;
}

/* Each page slightly further back */
.page:nth-child(3) { z-index: 29; }
.page:nth-child(4) { z-index: 28; }
.page:nth-child(5) { z-index: 27; }
.page:nth-child(6) { z-index: 26; }
.page:nth-child(7) { z-index: 25; }

.page h2 {
  font-size: 65px;
  color: #FFD7ED;
  margin-top: -20px;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- BUTTON -->
<button id="flipBtn">‚û°Ô∏è</button>

<!-- BOOK -->
<div id="bookContainer">
  <div id="book">

    <div class="bookCover" id="frontCover">
      ü§ç
      <div style="font-size: 70px; margin-top:-35px;">üéÄ</div>
    </div>

    <div class="bookCover" id="backCover"></div>

    <!-- Pages -->
    <div class="page"><h2>DIAS</h2><p>The one and ONLY‚Ä¶</p></div>
    <div class="page"><h2>F1</h2><p>Speed, style, chaos‚Ä¶</p></div>
    <div class="page"><h2>Dance üé∂üíÉ</h2><p>Your energy is unreal!</p></div>
    <div class="page"><h2>Food üçú</h2><p>Full-time foodie</p></div>
    <div class="page"><h2>Poetry üìñ</h2><p>‚ÄúYour smile wins.‚Äù</p></div>
    <div class="page"><h2>Happy 15th!</h2><p>‚ú®</p></div>

  </div>
</div>

<script>
/* ------------ BACKGROUND RAIN + HEARTS + BOWS --------------- */

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

let rain = [];
for (let i=0; i<150; i++)
  rain.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, l:10+Math.random()*25, s:2+Math.random()*3});

class Bow {
  constructor(){
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height;
    this.size = 20 + Math.random()*20;
    this.a = Math.random()*Math.PI*2;
    this.s = 0.02 + Math.random()*0.03;
  }
  draw(){
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.a);
    ctx.fillStyle = '#FFD7ED';
    ctx.beginPath();
    ctx.moveTo(0, -this.size/2);
    ctx.lineTo(-this.size/2, 0);
    ctx.lineTo(0, this.size/2);
    ctx.lineTo(this.size/2, 0);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }
  update(){ this.a += this.s; this.draw(); }
}

class Heart {
  constructor(){
    this.x = Math.random()*canvas.width;
    this.y = canvas.height + Math.random()*200;
    this.size = 15 + Math.random()*20;
    this.speed = 1 + Math.random()*2;
  }
  draw(){
    ctx.fillStyle = "#ff7cd8";
    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.bezierCurveTo(this.x-10, this.y-10, this.x-this.size, this.y+5, this.x, this.y+this.size);
    ctx.bezierCurveTo(this.x+this.size, this.y+5, this.x+10, this.y-10, this.x, this.y);
    ctx.fill();
  }
  update(){
    this.y -= this.speed;
    if (this.y < -20) this.y = canvas.height + 50;
    this.draw();
  }
}

let bows = Array.from({length: 12}, () => new Bow());
let hearts = Array.from({length: 20}, () => new Heart());

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Rain
  ctx.strokeStyle = '#A9C6FF';
  ctx.lineWidth = 2;
  rain.forEach(r => {
    ctx.beginPath();
    ctx.moveTo(r.x, r.y);
    ctx.lineTo(r.x, r.y + r.l);
    ctx.stroke();
    r.y += r.s;
    if (r.y > canvas.height) r.y = -r.l;
  });

  bows.forEach(b => b.update());
  hearts.forEach(h => h.update());

  requestAnimationFrame(animate);
}
animate();

/* ------------ BOOK FLIP LOGIC --------------- */
const pages = document.querySelectorAll('.page');
let pageIndex = 0;

pages.forEach((p, i) => p.style.transform = "rotateY(0deg)");

document.getElementById('flipBtn').onclick = () => {
  if (pageIndex < pages.length) {
    pages[pageIndex].style.transform = "rotateY(-180deg)";
    pageIndex++;
  }
};
</script>

</body>
</html>
